<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>分布式链路日志组件 | &quot;org.minbox.framework&quot;</title>
    <meta name="description" content="致力于向广大开发者提供一系列 “开箱即用” 的框架落地实现解决方案。">
    
    
    <link rel="preload" href="/assets/css/0.styles.a4a6d600.css" as="style"><link rel="preload" href="/assets/js/app.3abc0832.js" as="script"><link rel="preload" href="/assets/js/2.7b9f2484.js" as="script"><link rel="preload" href="/assets/js/6.4cbf83d6.js" as="script"><link rel="prefetch" href="/assets/js/10.2d422ad8.js"><link rel="prefetch" href="/assets/js/3.52b17f97.js"><link rel="prefetch" href="/assets/js/4.8c4bfc35.js"><link rel="prefetch" href="/assets/js/5.e8598797.js"><link rel="prefetch" href="/assets/js/7.87f564f6.js"><link rel="prefetch" href="/assets/js/8.888bfaf6.js"><link rel="prefetch" href="/assets/js/9.e3938554.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a4a6d600.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">&quot;org.minbox.framework&quot;</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="组件" class="dropdown-title"><span class="title">组件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日志组件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/logging/" class="nav-link router-link-exact-active router-link-active">分布式链路日志</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://blog.yuqiyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="最佳实践" class="dropdown-title"><span class="title">最佳实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.yuqiyu.com/apiboot-all-articles.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  系列文章
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/minbox-projects/api-boot-chapter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文章源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/minbox-projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/minbox-projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="组件" class="dropdown-title"><span class="title">组件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>日志组件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/logging/" class="nav-link router-link-exact-active router-link-active">分布式链路日志</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://blog.yuqiyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="最佳实践" class="dropdown-title"><span class="title">最佳实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.yuqiyu.com/apiboot-all-articles.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  系列文章
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/minbox-projects/api-boot-chapter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  文章源码
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/minbox-projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/minbox-projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/logging/concept.html" class="sidebar-link">I. 概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/concept.html#_1-链路架构图" class="sidebar-link">1. 链路架构图</a></li><li class="sidebar-sub-header"><a href="/logging/concept.html#_2-提交使用中遇到的问题" class="sidebar-link">2. 提交使用中遇到的问题</a></li><li class="sidebar-sub-header"><a href="/logging/concept.html#_3-apiboot集成实践示例" class="sidebar-link">3. ApiBoot集成实践示例</a></li></ul></li><li><a href="/logging/config-client.html" class="sidebar-link">II. 配置客户端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_4-启用客户端" class="sidebar-link">4. 启用客户端</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_5-透传链路信息" class="sidebar-link">5. 透传链路信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_5-1-resttemplate透传链路信息" class="sidebar-link">5.1. RestTemplate透传链路信息</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_5-2-openfeign透传链路信息" class="sidebar-link">5.2. OpenFeign透传链路信息</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_6-发现admin并上报日志" class="sidebar-link">6. 发现Admin并上报日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_6-1-指定地址发现admin" class="sidebar-link">6.1. 指定地址发现Admin</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_6-2-服务注册中心发现admin" class="sidebar-link">6.2. 服务注册中心发现Admin</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_7-延迟上报日志" class="sidebar-link">7. 延迟上报日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_7-1-配置上报方式" class="sidebar-link">7.1. 配置上报方式</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_7-2-设置单次上报的日志数量" class="sidebar-link">7.2. 设置单次上报的日志数量</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_7-3-设置上报日志间隔时间" class="sidebar-link">7.3. 设置上报日志间隔时间</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_8-自定义traceid生成规则" class="sidebar-link">8. 自定义TraceID生成规则</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_9-自定义spanid生成规则" class="sidebar-link">9. 自定义SpanID生成规则</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_10-排除部分路径不进行上报日志" class="sidebar-link">10. 排除部分路径不进行上报日志</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_11-安全上报日志" class="sidebar-link">11. 安全上报日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_11-1-指定admin地址方式配置" class="sidebar-link">11.1. 指定Admin地址方式配置</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_11-2-服务注册中心配置" class="sidebar-link">11.2. 服务注册中心配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_12-控制台显示上报日志" class="sidebar-link">12. 控制台显示上报日志</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_13-格式化控制台显示上报日志" class="sidebar-link">13. 格式化控制台显示上报日志</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_14-自定义日志上报通知" class="sidebar-link">14. 自定义日志上报通知</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_14-1-内置的日志通知" class="sidebar-link">14.1. 内置的日志通知</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_14-2-自定义多个日志上报通知" class="sidebar-link">14.2. 自定义多个日志上报通知</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_15-全局日志" class="sidebar-link">15. 全局日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-client.html#_15-1-日志占位符" class="sidebar-link">15.1 日志占位符</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_15-2-内存方式存储" class="sidebar-link">15.2 内存方式存储</a></li><li class="sidebar-sub-header"><a href="/logging/config-client.html#_15-3-采集异常堆栈信息" class="sidebar-link">15.3 采集异常堆栈信息</a></li></ul></li></ul></li><li><a href="/logging/config-admin.html" class="sidebar-link">III. 配置服务端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_16-启用服务端" class="sidebar-link">16. 启用服务端</a></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_17-初始化数据库" class="sidebar-link">17. 初始化数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_17-1-将日志持久化到数据库" class="sidebar-link">17.1. 将日志持久化到数据库</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_18-将admin注册到springcloud" class="sidebar-link">18. 将Admin注册到SpringCloud</a></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_19-启用安全配置" class="sidebar-link">19. 启用安全配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_19-1-添加支持spring-security" class="sidebar-link">19.1. 添加支持Spring Security</a></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_19-2-配置安全用户" class="sidebar-link">19.2. 配置安全用户</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_20-监听日志上报事件" class="sidebar-link">20. 监听日志上报事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_20-1-多监听事件实现" class="sidebar-link">20.1. 多监听事件实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_21-loggingadminfactorybean" class="sidebar-link">21. LoggingAdminFactoryBean</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_21-1-设置数据源" class="sidebar-link">21.1. 设置数据源</a></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_21-2-控制台输出上报的日志" class="sidebar-link">21.2. 控制台输出上报的日志</a></li><li class="sidebar-sub-header"><a href="/logging/config-admin.html#_21-3-格式化控制台输出日志" class="sidebar-link">21.3. 格式化控制台输出日志</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="分布式链路日志组件"><a href="#分布式链路日志组件" class="header-anchor">#</a> 分布式链路日志组件</h1> <p><code>MinBox Logging</code>是一款分布式、零侵入式的链路日志分析框架，支持<code>SpringCloud</code>微服务架构下配置使用，内部封装了<code>RestTemplate</code>、<code>OpenFeign</code>两种方式透传链路信息。</p> <h2 id="零侵入式"><a href="#零侵入式" class="header-anchor">#</a> 零侵入式</h2> <p><code>MinBox Logging</code>无需使用注解配置采集链路日志，只需要添加<code>依赖</code>后简单配置<code>Minbox Loggin Admin</code>的相关<code>地址</code>或<code>服务名称</code>即可，每次在收到请求时就会把请求对应的链路日志详细信息自动上报到<code>MinBox Logging Admin</code>进行后续分析、告警通知等。</p> <h2 id="链路日志分析图"><a href="#链路日志分析图" class="header-anchor">#</a> 链路日志分析图</h2> <p><img src="http://apiboot.minbox.io/img/logging/minbox-logging-trace.png" alt=""></p> <h2 id="日志客户端"><a href="#日志客户端" class="header-anchor">#</a> 日志客户端</h2> <p><code>链路日志</code>的采集端，也就是具体的业务服务，只需要添加<code>minbox-logging-client</code>客户端进行简单的配置就可以实现日志的采集以及日志的异步上报。</p> <h2 id="日志管理端"><a href="#日志管理端" class="header-anchor">#</a> 日志管理端</h2> <p>对外提供<code>安全的日志上报</code>功能，通过整合<code>Spring Security</code>来完成<code>Basic Auth</code>基础认证，管理端接收到采集端上报的日志后会自动将日志存储到数据库，考虑到扩展方便，同样也提供监听<code>日志上报事件(ReportLogEvent)</code>的方式来自定义存储日志到<code>消息队列</code>、<code>logstash</code>、<code>文件</code>等存储介质。</p> <h2 id="日志管理界面"><a href="#日志管理界面" class="header-anchor">#</a> 日志管理界面</h2> <p><code>MinBox Logging Admin</code>提供了界面管理应用程序，通过<code>VUE</code>前端框架进行编写界面与管理端的接口通讯，实时展示<code>链路日志</code>、<code>日志采集服务列表</code>等信息，可查看每条链路日志的详细信息（包含：请求头、请求参数、响应内容、响应头、状态码、异常堆栈信息等）。</p> <h3 id="整合spring-security后的登录界面"><a href="#整合spring-security后的登录界面" class="header-anchor">#</a> 整合Spring Security后的登录界面</h3> <p><img src="http://apiboot.minbox.io/img/logging/logging-admin-login.png" alt=""></p> <p>可以直接整合<code>Spring Security</code>来完成<code>Basic</code>安全认证。</p> <h3 id="上报日志的服务列表"><a href="#上报日志的服务列表" class="header-anchor">#</a> 上报日志的服务列表</h3> <p><img src="http://apiboot.minbox.io/img/logging/logging-admin-service.png" alt=""></p> <p>请求日志的采集服务在第一次上报时，会自动创建一条服务记录，服务的唯一性是根据：<code>服务ID</code> + <code>服务IP</code> + <code>服务端Port</code> 来进行定义。</p> <div class="custom-block tip"><p class="custom-block-title">注意事项</p> <p>在每次上报日志成功后会修改服务的最后一次上报时间。</p></div> <h3 id="链路日志列表"><a href="#链路日志列表" class="header-anchor">#</a> 链路日志列表</h3> <p><img src="http://apiboot.minbox.io/img/logging/logging-admin-logs.png" alt=""></p> <p>链路日志是我们访问的入口服务生成，比如：<code>bff-user</code> -&gt; <code>user-service</code>，链路日志产生的位置则是<code>bff-user</code>服务，链路日志是接口<code>请求的入口</code>也是做出<code>响应的结束位置</code>，因此我们可以在页面上查看接口的请求<code>参数详情</code>、<code>头信息</code>以及<code>响应的内容</code>，至于链路日志内的<code>日志单元</code>目前界面还未做展示，可以根据<code>traceId</code>链路日志编号自行去数据库查询。</p> <h3 id="链路日志详情"><a href="#链路日志详情" class="header-anchor">#</a> 链路日志详情</h3> <p><img src="http://apiboot.minbox.io/img/logging/logging-admin-log-detail.png" alt=""></p> <p>每一个请求的链路日志都会包含上图中的全部字段，从请求开始 -&gt; 响应结束一条链路闭合记录。</p> <h3 id="安全性"><a href="#安全性" class="header-anchor">#</a> 安全性</h3> <p><code>MinBox Logging Admin UI</code>内部提供了<code>login.html</code>登录页面，可以整合<code>Spring Security</code>通过配置<code>loginPageUrl</code>登录跳转地址来使用内置的登录页面，当然也可以自定义登录页面。</p> <p>可与<code>MinBox Logging Admin</code>共同使用<code>Spring Security</code>的相同配置提升安全性。</p> <h2 id="源码方式构建"><a href="#源码方式构建" class="header-anchor">#</a> 源码方式构建</h2> <p><code>MinBox Logging</code>使用<code>Maven</code>进行构建项目。</p> <h3 id="先决条件"><a href="#先决条件" class="header-anchor">#</a> 先决条件</h3> <p>源码拉取需使用<code>Git</code>，具体使用方式详见<a href="https://help.github.com/en/articles/set-up-git" target="_blank" rel="noopener noreferrer">安装 Git<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>源码采用<code>JDK1.8</code>版本进行编写，请注意修改使用项目的<code>JDK</code>版本，<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener noreferrer">JDK 1.8下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>需本地安装<code>Maven</code>环境，<a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener noreferrer">Maven 下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>因<code>logging-admin-ui</code>所需<code>vue-cli-service</code>命令支持，本地需要安装<code>vue-cli</code>。</p> <h3 id="拉取源码到本地"><a href="#拉取源码到本地" class="header-anchor">#</a> 拉取源码到本地</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> clone git@gitee.com:minbox-projects/minbox-logging.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="安装到本地maven仓库"><a href="#安装到本地maven仓库" class="header-anchor">#</a> 安装到本地Maven仓库</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mvn <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="编译-打包生成jar包"><a href="#编译-打包生成jar包" class="header-anchor">#</a> 编译 &amp; 打包生成jar包</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>mvn clean package
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="开源许可"><a href="#开源许可" class="header-anchor">#</a> 开源许可</h2> <p><code>MinBox Logging</code>采用<code>Apache2</code>开源许可。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">12/23/2019, 2:25:51 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3abc0832.js" defer></script><script src="/assets/js/2.7b9f2484.js" defer></script><script src="/assets/js/6.4cbf83d6.js" defer></script>
  </body>
</html>
